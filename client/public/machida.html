<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>ç”ºç”°ãƒ»ç›¸æ¨¡å¤§é‡å‘¨è¾ºãƒ‘ãƒ¼ãƒˆæ™‚çµ¦æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            background: linear-gradient(to bottom right, #f8fafc, #f1f5f9); 
            color: #1e293b;
            min-height: 100vh;
        }
        
        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        nav { 
            background: linear-gradient(to right, #fef08a, #fbcfe8, #e9d5ff); 
            color: #1e293b; 
            padding: 0.75rem 0; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        nav .nav-container { 
            max-width: 1152px; 
            margin: 0 auto; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding-left: 1rem;
            padding-right: 1rem;
        }
        nav .logo { 
            font-weight: bold; 
            font-size: 1.125rem; 
        }
        nav .nav-links { 
            display: flex; 
            gap: 1rem; 
        }
        nav a { 
            padding: 0.5rem 1rem; 
            border-radius: 0.5rem; 
            text-decoration: none; 
            color: white; 
            transition: all 0.3s; 
            font-weight: 500;
            font-size: 0.875rem;
        }
        nav a.active { 
            background: linear-gradient(to right, #fbbf24, #f97316); 
        }
        nav a.inactive { 
            background: linear-gradient(to right, #a78bfa, #06b6d4); 
        }
        nav a:hover { opacity: 0.9; }
        
        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header { 
            background: linear-gradient(to right, #fef9c3, #fce7f3, #f3e8ff); 
            color: #1e293b; 
            padding: 2rem 0; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        header .container { 
            max-width: 1152px; 
            margin: 0 auto; 
            padding-left: 1rem; 
            padding-right: 1rem; 
        }
        header h1 { 
            font-size: 2.25rem; 
            margin-bottom: 0.75rem; 
            font-weight: bold; 
        }
        header .subtitle { 
            font-size: 0.875rem; 
            opacity: 0.8; 
            color: #64748b;
            margin-top: 0.5rem;
        }
        
        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        main { 
            max-width: 1152px; 
            margin: 0 auto; 
            padding: 3rem 1rem;
        }
        
        /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .filter-section { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 1.5rem; 
            margin-bottom: 2rem; 
        }
        @media (max-width: 768px) { 
            .filter-section { 
                grid-template-columns: 1fr; 
            } 
        }
        
        /* ã‚«ãƒ¼ãƒ‰ */
        .card { 
            background: white; 
            border: 1px solid #fbcfe8; 
            border-radius: 0.5rem; 
            padding: 1.5rem; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.07); 
            margin-bottom: 2rem;
        }
        .card h2 { 
            font-size: 1.5rem; 
            margin-bottom: 1rem; 
            font-weight: 600; 
        }
        .card h3 { 
            font-size: 1.125rem; 
            margin-bottom: 1rem; 
            font-weight: 600; 
        }
        
        /* ãƒœã‚¿ãƒ³ */
        button { 
            width: 100%; 
            padding: 0.75rem 1rem; 
            border: none; 
            border-radius: 0.5rem; 
            cursor: pointer; 
            transition: all 0.3s; 
            margin-bottom: 0.75rem; 
            font-family: 'Noto Sans JP', sans-serif; 
            font-size: 1rem;
            text-align: left;
        }
        button.inactive { 
            background: #f1f5f9; 
            color: #475569; 
        }
        button.inactive:hover { 
            background: #e2e8f0; 
        }
        button.active { 
            background: #db2777; 
            color: white; 
            box-shadow: 0 4px 6px rgba(219, 39, 119, 0.2); 
            font-weight: 500;
        }
        .employment-type { 
            width: 100%; 
            padding: 0.75rem 1rem; 
            border: none; 
            border-radius: 0.5rem; 
            background: #db2777; 
            color: white; 
            box-shadow: 0 4px 6px rgba(219, 39, 119, 0.2); 
            font-weight: 500;
            text-align: left;
            font-family: 'Noto Sans JP', sans-serif; 
            font-size: 1rem;
        }
        
        /* çµ±è¨ˆãƒœãƒƒã‚¯ã‚¹ */
        .stats { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 1.5rem; 
            margin-bottom: 2rem; 
        }
        .stat-box { 
            padding: 1.5rem; 
            border-radius: 0.5rem; 
            border: 1px solid #e2e8f0;
        }
        .stat-box.avg { 
            background: linear-gradient(to bottom right, #fdf2f8, #fce7f3); 
            border-color: #fbcfe8;
        }
        .stat-box.max { 
            background: linear-gradient(to bottom right, #cffafe, #a5f3fc); 
            border-color: #a5f3fc;
        }
        .stat-box.min { 
            background: linear-gradient(to bottom right, #fdf2f8, #fce7f3); 
            border-color: #fbcfe8;
        }
        .stat-label { 
            font-size: 0.875rem; 
            color: #64748b; 
            margin-bottom: 0.5rem; 
            font-weight: 600;
        }
        .stat-value { 
            font-size: 1.875rem; 
            font-weight: bold; 
        }
        .stat-box.avg .stat-value { color: #db2777; }
        .stat-box.max .stat-value { color: #0891b2; }
        .stat-box.min .stat-value { color: #9f1239; }
        
        /* ã‚°ãƒ©ãƒ•ã‚³ãƒ³ãƒ†ãƒŠ */
        .chart-container { 
            position: relative; 
            height: 300px; 
            margin-bottom: 2rem; 
            background: #f1f5f9; 
            padding: 1.5rem; 
            border-radius: 0.5rem;
        }
        
        /* æ±‚äººã‚«ãƒ¼ãƒ‰ */
        .jobs-count { 
            font-size: 0.875rem; 
            color: #64748b; 
            margin-bottom: 1.5rem; 
        }
        .job-item { 
            border: 1px solid #e2e8f0; 
            border-radius: 0.5rem; 
            padding: 1.25rem; 
            margin-bottom: 1rem; 
            background: linear-gradient(to right, #ffffff, #f8fafc); 
            transition: all 0.3s; 
        }
        .job-item:hover { 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
            border-color: #7dd3c0; 
        }
        .job-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start; 
            margin-bottom: 1rem; 
        }
        .job-name { 
            font-size: 1.125rem; 
            font-weight: 600; 
            color: #1e293b; 
        }
        .job-type { 
            font-size: 0.875rem; 
            color: #64748b; 
        }
        .job-badge { 
            background: #fce7f3; 
            color: #db2777; 
            padding: 0.25rem 0.75rem; 
            border-radius: 0.25rem; 
            font-size: 0.75rem; 
            font-weight: 600; 
            border: 1px solid #fbcfe8;
        }
        .job-details { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 1rem; 
            margin-bottom: 1rem; 
        }
        .detail-item { 
            display: flex; 
            gap: 0.75rem; 
        }
        .detail-icon { 
            width: 2rem; 
            height: 2rem; 
            background: #fce7f3; 
            border-radius: 0.375rem; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: #db2777; 
            flex-shrink: 0; 
            font-size: 1rem; 
        }
        .detail-icon.cyan { 
            background: #cffafe; 
            color: #0891b2; 
        }
        .detail-content { 
            flex: 1; 
        }
        .detail-label { 
            font-size: 0.75rem; 
            color: #64748b; 
            margin-bottom: 0.25rem; 
        }
        .detail-value { 
            font-weight: 600; 
            color: #1e293b; 
        }
        .benefits { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 0.5rem; 
            margin-top: 1rem; 
        }
        .benefit-tag { 
            background: #cffafe; 
            color: #0891b2; 
            border: 1px solid #06b6d4; 
            padding: 0.25rem 0.75rem; 
            border-radius: 0.25rem; 
            font-size: 0.75rem; 
        }
        
        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        footer { 
            background: #fdf2f8; 
            border: 1px solid #fbcfe8; 
            border-radius: 0.5rem; 
            padding: 1.5rem; 
            text-align: center; 
            margin-top: 3rem;
        }
        footer p { 
            font-size: 0.875rem; 
            color: #475569; 
        }
        footer .small { 
            font-size: 0.75rem; 
            color: #64748b; 
            margin-top: 0.5rem; 
            font-weight: 600;
        }
        footer .nav-link { 
            display: inline-block; 
            margin-bottom: 1rem; 
            padding-bottom: 1rem; 
            border-bottom: 1px solid #fbcfe8; 
        }
        footer a { 
            color: #db2777; 
            text-decoration: none; 
            font-weight: 600; 
        }
        footer a:hover { 
            color: #be185d; 
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <div class="logo">åŒ»ç™‚è·æ±‚äººæ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ</div>
            <div class="nav-links">
                <a href="/" class="inactive">é˜¿ä½ãƒ¶è°·ç‰ˆ</a>
                <a href="/machida.html" class="active">ç”ºç”°ç‰ˆ</a>
            </div>
        </div>
    </nav>

    <header>
        <div class="container">
            <h1>ç”ºç”°ãƒ»ç›¸æ¨¡å¤§é‡å‘¨è¾ºãƒ‘ãƒ¼ãƒˆæ™‚çµ¦æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ</h1>
            <p class="subtitle">2026å¹´1æœˆèª¿æŸ» | ç”ºç”°ãƒ»ç›¸æ¨¡å¤§é‡å‘¨è¾ºã‚¨ãƒªã‚¢ | ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆé™å®š</p>
        </div>
    </header>

    <main>
        <div class="filter-section">
            <div class="card">
                <h3>è·ç¨®ã‚’é¸æŠ</h3>
                <button class="active" onclick="selectJobType('nurses')">çœ‹è­·å¸«</button>
                <button class="inactive" onclick="selectJobType('medicalOffice')">åŒ»ç™‚äº‹å‹™</button>
            </div>
            <div class="card">
                <h3>é›‡ç”¨å½¢æ…‹</h3>
                <div class="employment-type">ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ</div>
            </div>
        </div>

        <div class="card">
            <h2 id="statsTitle">æ™‚çµ¦çµ±è¨ˆï¼ˆçœ‹è­·å¸«ãƒ»ãƒ‘ãƒ¼ãƒˆï¼‰</h2>
            <div class="stats">
                <div class="stat-box avg">
                    <div class="stat-label">å¹³å‡</div>
                    <div class="stat-value" id="avgWage">Â¥1,880</div>
                </div>
                <div class="stat-box max">
                    <div class="stat-label">æœ€é«˜</div>
                    <div class="stat-value" id="maxWage">Â¥2,400</div>
                </div>
                <div class="stat-box min">
                    <div class="stat-label">æœ€ä½</div>
                    <div class="stat-value" id="minWage">Â¥1,700</div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="wageChart"></canvas>
            </div>
        </div>

        <div class="card">
            <h2>æ±‚äººè©³ç´°æƒ…å ±</h2>
            <div class="jobs-count"><span id="jobCount">15</span>ä»¶ã®æ±‚äºº</div>
            <div id="jobsList"></div>
        </div>

        <footer>
            <div class="nav-link">
                <a href="/">é˜¿ä½ãƒ¶è°·ç‰ˆã‚’è¦‹ã‚‹ â†’</a>
            </div>
            <p>ã“ã®ãƒ¬ãƒãƒ¼ãƒˆã¯æ ªå¼ä¼šç¤¾HOAPãŒãƒªã‚µãƒ¼ãƒãƒ»ä½œæˆã—ãŸã‚‚ã®ã§ã™ã€‚</p>
            <p class="small">ç„¡æ–­è»¢ç”¨åŠã³ç„¡æ–­è¤‡è£½ã‚’å³ç¦ã—ã¾ã™ã€‚</p>
        </footer>
    </main>

    <script>
        let jobData = null;
        let currentJobType = "nurses";
        let chart = null;

        fetch("/machida_extended_jobs.json")
            .then(res => res.json())
            .then(data => {
                jobData = data;
                updateDisplay();
            });

        function selectJobType(type) {
            currentJobType = type;
            document.querySelectorAll('button').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('inactive');
            });
            event.target.classList.remove('inactive');
            event.target.classList.add('active');
            updateDisplay();
        }

        function updateDisplay() {
            if (!jobData) return;
            
            const jobs = jobData[currentJobType];
            const stat = jobData.statistics[currentJobType];
            const label = currentJobType === 'nurses' ? 'çœ‹è­·å¸«' : 'åŒ»ç™‚äº‹å‹™';

            document.getElementById('statsTitle').textContent = `æ™‚çµ¦çµ±è¨ˆï¼ˆ${label}ãƒ»ãƒ‘ãƒ¼ãƒˆï¼‰`;
            document.getElementById('avgWage').textContent = `Â¥${stat.average.toLocaleString()}`;
            document.getElementById('maxWage').textContent = `Â¥${stat.max.toLocaleString()}`;
            document.getElementById('minWage').textContent = `Â¥${stat.min.toLocaleString()}`;
            document.getElementById('jobCount').textContent = jobs.length;

            updateChart(stat);

            let html = '';
            jobs.forEach((job, index) => {
                html += `
                    <div class="job-item">
                        <div class="job-header">
                            <div>
                                <div class="job-name">${job.name}</div>
                                <div class="job-type">${job.type}</div>
                            </div>
                            <span class="job-badge">${index + 1}/${jobs.length}</span>
                        </div>
                        <div class="job-details">
                            <div class="detail-item">
                                <div class="detail-icon">ğŸ’°</div>
                                <div class="detail-content">
                                    <div class="detail-label">çµ¦ä¸</div>
                                    <div class="detail-value">Â¥${job.hourlyWage}/æ™‚é–“</div>
                                </div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-icon cyan">ğŸ“</div>
                                <div class="detail-content">
                                    <div class="detail-label">å‹¤å‹™åœ°</div>
                                    <div class="detail-value">${job.location}</div>
                                </div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-icon">â°</div>
                                <div class="detail-content">
                                    <div class="detail-label">å‹¤å‹™æ™‚é–“</div>
                                    <div class="detail-value">${job.workHours}</div>
                                </div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-icon cyan">ğŸ“…</div>
                                <div class="detail-content">
                                    <div class="detail-label">ä¼‘æ—¥</div>
                                    <div class="detail-value">${job.holiday}</div>
                                </div>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-icon">ğŸ</div>
                            <div class="detail-content" style="flex: 1;">
                                <div class="detail-label">ç¦åˆ©å¨ç”Ÿ</div>
                                <div class="benefits">
                                    ${job.benefits.map(benefit => `<span class="benefit-tag">${benefit}</span>`).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            document.getElementById('jobsList').innerHTML = html;
        }

        function updateChart(stat) {
            const ctx = document.getElementById('wageChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['å¹³å‡', 'æœ€é«˜', 'æœ€ä½'],
                    datasets: [{
                        label: 'æ™‚çµ¦ï¼ˆå††ï¼‰',
                        data: [stat.average, stat.max, stat.min],
                        backgroundColor: '#f97316',
                        borderRadius: 8,
                        borderSkipped: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return 'Â¥' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return 'Â¥' + value;
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
